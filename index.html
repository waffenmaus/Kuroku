<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kuroku</title>
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.14.2/dist/gsap.min.js"></script>
    
    <style>
        .welcome-texts-container 
       {
            position: absolute;
            top: 20px;
            left: 30px;
            display: flex;
            flex-direction: row; 
            align-items: baseline;
            gap: 25px;
            z-index: 10;
            transform-origin: left center;
            cursor: default; visibility: hidden;
        }
        .welcome-texts-container::selection 
       {
            background-color: transparent;
        }
        .welcome-texts-container h1 
       {
            color: var(--black);
            font-weight: 100;
            margin: 0;
            white-space: nowrap;
            font-size: clamp(40px, 8vw, 90px); 
            letter-spacing: -5px;
            will-change: transform, opacity;
        }
        #kuroku-text-id 
       {
            opacity: 0;
            filter: blur(20px);
        }

        #starCanvas 
       {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            pointer-events: none;
            opacity: 0; 
        }

        .tilt-container 
       {
            position: absolute;
            width: 100%;
            height: 100%;
            transform-style: preserve-3d;
            will-change: transform;
            z-index: 1;
            opacity: 0; 
        }

        .viewport 
       {
            position: absolute;
            right: -15%; 
            bottom: -20%; 
            width: 110vw;  
            height: 110vh; 
            transform: rotateX(60deg) rotateY(0deg) rotateZ(-15deg);
            transform-style: preserve-3d;
        }

        svg 
       {
            width: 140%;
            height: 140%;
            overflow: visible;
        }

        circle 
       {
            fill: none;
            stroke-linecap: round;
        }
    </style>
    
    <style>
        :root {
            --black: #000000;
            --white: #ffffff;
        }

        body, html 
       {
            margin: 0; padding: 0;
            width: 100%; height: 100%;
            background-color: var(--white); 
            overflow: hidden;
            font-family: 'Segoe UI', sans-serif;
        }
    </style>
</head>
<body>

    <canvas id="starCanvas"></canvas>
    <div class="tilt-container" id="tilt-rig">
        <div class="viewport">
            <svg id="master-svg" viewBox="0 0 1000 1000"></svg>
        </div>
    </div>

    <div class="welcome-texts-container" id="welcome-text-container-id">
        <h1 id="welcome-text-id">Welcome to</h1>
        <h1 id="kuroku-text-id">Kuroku</h1>
    </div>

    <script id="timelapse-animation">
        
        gsap.set("#welcome-text-container-id", { autoAlpha: 1 });
        gsap.set(["#welcome-text-id", "#kuroku-text-id"], { scale: 0.27, transformOrigin: "left center" });
        
        const masterTl = gsap.timeline({
            defaults: { 
                ease: "expo.inOut",
                force3D: true 
            },onComplete: startOrbitalEffect});
        
        masterTl
            
            .fromTo("#welcome-text-id", 
                { y: -30, opacity: 0 }, 
                { y: 0, opacity: 1, duration: 1, delay: 0.3 })
            
            .to("#welcome-text-container-id", {
                left: "50%",
                top: "50%",
                xPercent: -50,
                yPercent: -50,
                duration: 2})
            
            .to(["#welcome-text-id", "#kuroku-text-id"], {
                scale: 1,
                duration: 2
            }, "<") 
            
            .to("#welcome-text-container-id", {
                yPercent: -120,
                duration: 1.6})
            
            .to("#kuroku-text-id", {
                opacity: 1,
                filter: "blur(0px)",
                duration: 1.2
            }, "-=1.2");
            
        function startOrbitalEffect() {
            
            const transitionTl = gsap.timeline();
            
            transitionTl
                
                .to("body", { backgroundColor: "#000000", duration: 1.5 })
                
                .to(".welcome-texts-container h1", { color: "#ffffff", duration: 1.5 }, "<")
                
                .to(["#starCanvas", ".tilt-container"], { 
                    opacity: 1, 
                    duration: 2 
                }, "-=1")
                
                .to(ringGroups, {
                    scale: 1,
                    opacity: 0.6,
                    duration: 2,
                    stagger: 0.15,
                    ease: "expo.out"
                }, "-=1.5");}
        
    </script>
     <script id="core-setup">

        const canvas = document.getElementById('starCanvas');
        const ctx = canvas.getContext('2d');
        const svgElement = document.getElementById('master-svg');
        const rig = document.getElementById('tilt-rig');
        

        let width, height, stars = [];
        const starCount = 150;
        const repulsionRadius = 80;
        const mouse = { x: -1000, y: -1000 };
        const ringGroups = [];

        function initCanvas() {
            width = window.innerWidth;
            height = window.innerHeight;
            canvas.width = width;
            canvas.height = height;
            stars = [];
            for (let i = 0; i < starCount; i++) {
                stars.push({
                    x: Math.random() * width,
                    y: Math.random() * height,
                    size: Math.random() * 1.5 + 0.3,
                    vx: (Math.random() - 0.5) * 0.2, 
                    vy: (Math.random() - 0.5) * 0.2,
                    opacity: Math.random() * 0.7 + 0.1
                });
            }
        }

        function animateStars() {
            ctx.clearRect(0, 0, width, height);
            stars.forEach(s => {
                s.x += s.vx; s.y += s.vy;
                const dx = s.x - mouse.x;
                const dy = s.y - mouse.y;
                const dist = Math.sqrt(dx*dx + dy*dy);
                if (dist < repulsionRadius) {
                    const angle = Math.atan2(dy, dx);
                    const force = (repulsionRadius - dist) / repulsionRadius;
                    s.x += Math.cos(angle) * force * 10;
                    s.y += Math.sin(angle) * force * 10;
                }
                if (s.x < 0) s.x = width; if (s.x > width) s.x = 0;
                if (s.y < 0) s.y = height; if (s.y > height) s.y = 0;
                ctx.beginPath();
                ctx.arc(s.x, s.y, s.size, 0, Math.PI * 2);
                ctx.fillStyle = `rgba(255, 255, 255, ${s.opacity})`;
                ctx.fill();
            });
            requestAnimationFrame(animateStars);
        }

        window.addEventListener('mousemove', (e) => {
            mouse.x = e.clientX;
            mouse.y = e.clientY;
            
            const xPct = (e.clientX / window.innerWidth) - 0.5;
            const yPct = (e.clientY / window.innerHeight) - 0.5;

            gsap.to(rig, {
                rotationY: xPct * 10,
                rotationX: -yPct * 10,
                duration: 1,
                ease: "power2.out",
                overwrite: "auto"
            });
        });

        const ringColors = ['#61e79b', '#4ade80', '#2dd4bf']; 

        for (let i = 0; i < 7; i++) {
            const g = document.createElementNS("http://www.w3.org/2000/svg", "g");
            const circle = document.createElementNS("http://www.w3.org/2000/svg", "circle");
            const radius = 120 + (i * 65); 
            
            circle.setAttribute("cx", "500");
            circle.setAttribute("cy", "500");
            circle.setAttribute("r", radius);
            circle.setAttribute("stroke", ringColors[i % ringColors.length]);
            circle.setAttribute("stroke-width", "2");
            circle.setAttribute("stroke-dasharray", `${200 + (i * 100)} 1600`);
            circle.setAttribute("opacity", "0.6");
            
            gsap.set(g, {
                z: i * 20,
                scale: 0, 
                transformOrigin: "50% 50%"
            });

            g.appendChild(circle);
            svgElement.appendChild(g);
            ringGroups.push(g);

            gsap.to(circle, {
                rotation: i % 2 === 0 ? 360 : -360,
                duration: (25000 + (i * 4000)) / 1000,
                repeat: -1,
                ease: "none",
                transformOrigin: "50% 50%"
            });
        }

        initCanvas();
        animateStars();
        window.addEventListener('resize', initCanvas);
    </script>
</body>
</html>
