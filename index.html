<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <script src="https://cdn.jsdelivr.net/npm/gsap@3.14.2/dist/gsap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.14.2/dist/ScrollTrigger.min.js"></script>
    
    <link rel="stylesheet" href="style(1).css">
    <script src="index(1).js" defer></script>

    <link rel="stylesheet" href="/public/style(1).css">
    <script src="/public/index(1).js" defer></script>
    <title>Kuroku</title>
    
    <style>
        /*
        index(1).js   >>   orbital animation
        style(1).css  >>   welcome text + orbital animation
        */
    </style>

    </style>
    
    <style>
        :root 
        {
            --black: #000000;
            --white: #ffffff;
        }

        body, html 
        {
            margin: 0; 
            padding: 0;
            width: 100%; 
            height: 200vh;
            font-family: 'Segoe UI', sans-serif;
        }
        
        .noscroll 
        {
            overflow: hidden !important;
        }

        body::-webkit-scrollbar 
        {
            display: none;
        }
    </style>
</head>
<body class="noscroll">

    <!--Orbital animation-->
    
    <canvas id="starCanvas"></canvas>
    <div class="tilt-container" id="tilt-rig">
        <div class="viewport">
            <svg id="master-svg" viewBox="0 0 1000 1000"></svg>
        </div>
    </div>
    
    <!--Orbital animation-->

    <!--Welcome text-->
    
    <div class="welcome-texts-container" id="welcome-text-container-id">
        <h1 id="welcome-text-id">Welcome to</h1>
        <h1 id="kuroku-text-id">Kuroku</h1>
    </div>
    
    <!--Welcome text-->

    <script>

        //welcome text start
        
        gsap.set("#welcome-text-container-id", { 
        position: "fixed", 
        autoAlpha: 1,
        zIndex: 1000 
        });
        gsap.set(["#welcome-text-id", "#kuroku-text-id"], { 
        scale: 0.27, 
        transformOrigin: "left center" 
        });

 const masterTl = gsap.timeline({
        defaults: { ease: "expo.inOut", force3D: true },
        onComplete: startOrbitalEffect
    });

    masterTl

        .fromTo("#welcome-text-id", 
            { y: -30, opacity: 0 }, 
            { y: 0, opacity: 1, duration: 1, delay: 0.3 }
        )
        .to("#welcome-text-container-id", {
            left: "50%",
            top: "50%",
            xPercent: -50,
            yPercent: -50,
            duration: 2
        })
        .to(["#welcome-text-id", "#kuroku-text-id"], {
            scale: 1,
            duration: 2
        }, "<") 
        .to("#welcome-text-container-id", {
            yPercent: -120, 
            duration: 1.6
        })
        .to("#kuroku-text-id", {
            opacity: 1,
            filter: "blur(0px)",
            duration: 1.2
        }, "-=1.2"); 
        
        //welcome text end

        //orbital animation function
        
        function startOrbitalEffect() {
        const transitionTl = gsap.timeline({
            onComplete: startScrollPhase
        });
        
        transitionTl
            .to("body", { backgroundColor: "#000000", duration: 1.5 })
            .to(".welcome-texts-container h1", { color: "#ffffff", duration: 1.5 }, "<")
            .to(["#starCanvas", ".tilt-container"], { opacity: 1, duration: 2 }, "-=1");

        if (typeof ringGroups !== 'undefined') {
            transitionTl.to(ringGroups, {
                scale: 1, opacity: 0.6, duration: 2, stagger: 0.15, ease: "expo.out"
            }, "-=1.5");
        }}
        
        //orbital animation function   

        //after orbital animation function

        function startScrollPhase() {
        gsap.registerPlugin(ScrollTrigger);

        document.body.classList.remove("noscroll");
        document.documentElement.classList.remove("noscroll");
        
        const scrollTl = gsap.timeline({
            scrollTrigger: {
                trigger: 'body',
                start: 'top top',
                end: '+=600',
                scrub: 1,
            }
        });

        scrollTl
   
            .to("#welcome-text-id", {
                opacity: 0,
                width: 0,
                marginRight: 0,
                duration: 0.5
            }, 0)

            .to("#welcome-text-container-id", {
                left: "30px",       
                top: "100%",        
                xPercent: 0,        
                yPercent: -100,     
                y: -30,            
                duration: 1
            }, 0)

            .to("#kuroku-text-id", {
                scale: 0.5,
                transformOrigin: "left bottom",
                duration: 1
            }, 0);}
        
        //after orbital animation function
        
    </script>
</body>
</html>
